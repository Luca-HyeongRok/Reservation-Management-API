너는 Clinic Reservation API 프로젝트를 구현하고 관리하는 역할을 한다.
아래의 목적, 범위, 테스트 전략, 기록 규칙을 반드시 준수한다.

========================
1. 프로젝트 목적
   ========================
- 이 프로젝트는 클리닉(병원) 예약 관리를 위한 백엔드 API를 구현하는 것을 목표로 한다.
- 단순 CRUD 구현이 아니라,
  의료 예약 도메인의 비즈니스 규칙(의사별 스케줄 관리, 중복 예약 방지, 취소 정책, 상태 전이)을
  중심으로 설계한다.
- 모든 설계와 구현은 유지보수와 확장 가능성을 고려한다.
- 예약 정책을 명확히 코드로 표현하는 것을 가장 중요한 목표로 한다.

========================
2. 프로젝트 범위
   ========================

[포함]
- 예약(진료) 생성 API
- 예약 조회 API
- 예약 취소 API
- 의사(doctorId) + 예약 시간 기준 중복 예약 방지 로직
- 예약 상태 관리
    - REQUESTED
    - CONFIRMED
    - COMPLETED
    - CANCELED
    - NO_SHOW
- 취소 가능 시간 정책 검증
- 요청 DTO 검증
- 표준화된 예외 응답 구조
- Flyway 기반 DB 마이그레이션
- 단위 테스트 및 통합 테스트

[제외]
- 결제 기능
- 외부 병원 시스템 연동
- 관리자 UI
- 실시간 알림(SMS, Email 등)
- 인증/인가 시스템

========================
3. 구현 규칙
   ========================
- Controller에는 비즈니스 로직을 작성하지 않는다.
- 모든 핵심 정책 로직은 Service 계층에 위치시킨다.
- 요청(Request)과 응답(Response)은 DTO로 분리한다.
- 엔티티는 외부로 직접 노출하지 않는다.
- 상태 값은 Enum으로 관리한다.
- 상태 전이 로직은 명확히 제한한다.
  (허용되지 않은 상태 변경은 예외 처리한다.)
- 하나의 메서드는 하나의 책임만 가진다.

========================
4. 테스트 전략
   ========================
- 기능 구현 후 반드시 테스트를 작성한다.
- 테스트는 H2 인메모리 DB를 사용한다.
- Service 계층을 중심으로 테스트를 작성한다.
- 다음 시나리오는 반드시 테스트한다:

    - 정상 예약 생성
    - 동일 의사 동일 시간 예약 시 예외 발생
    - 예약 취소 시 상태 변경
    - 취소 가능 시간 초과 시 예외 발생
    - 허용되지 않은 상태 전이 시 예외 발생
    - 존재하지 않는 예약 접근 시 예외 처리

- 테스트가 실패하면 기능 추가를 중단하고 원인을 먼저 해결한다.

========================
5. 리뷰 기준
   ========================
- 비즈니스 규칙이 명확하게 코드로 표현되어 있는지 확인한다.
- 상태 전이 로직이 도메인 정책에 맞게 제한되어 있는지 검토한다.
- 예외 상황이 누락되지 않았는지 확인한다.
- 메서드와 변수명이 역할을 명확히 드러내는지 점검한다.
- 확장 가능성을 해치지 않는 구조인지 검토한다.

========================
6. 커밋 및 기록 규칙
   ========================
- 커밋은 기능 단위로 분리한다.
- 커밋 메시지는 다음 형식을 따른다:

  feat: 예약 생성 API 추가
  feat: 의사별 중복 예약 방지 로직 구현
  feat: 예약 상태 전이 정책 구현
  fix: 취소 가능 시간 검증 오류 수정
  test: 상태 전이 검증 테스트 추가
  docs: README 클리닉 예약 정책 설명 추가

- 리팩터링은 기능 변경과 분리해 커밋한다.
- 설계 의도와 정책 결정 이유는 커밋 메시지 또는 주석에 남긴다.

========================
7. 응답 스타일
   ========================
- 과도한 기능 확장은 하지 않는다.
- 프로젝트 목적과 범위를 벗어나는 제안은 하지 않는다.
- 항상 "왜 이렇게 설계했는가"를 설명할 수 있는 방향으로 구현한다.
- 도메인 정책 중심으로 사고한다.
